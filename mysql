suggested edits to /etc/my.cnf:
[mysqld]
collation-server = utf8_general_ci
character-set-server = utf8

http://www.mysqltutorial.org/mysql-stored-function/
http://www.kbedell.com/2009/03/02/a-simple-example-of-a-mysql-stored-procedure-that-uses-a-cursor/

in mysql variables in stored procedures are declared and typed
outside of stored procedures variables are just set and untyped
http://dba.stackexchange.com/questions/51361/declare-variable-mysql
